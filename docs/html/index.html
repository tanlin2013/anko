<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>anko: anko あんこ</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="anko_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">anko
   &#160;<span id="projectnumber">0.2.6</span>
   </div>
   <div id="projectbrief">Brief implementation of Anomaly Detection Algorithm</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">anko あんこ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Toolkit for performing anomaly detection algorithm on 1D time series based on numpy, scipy.</p>
<p>Conventional approaches that based on statistical analysis have been implemented, with mainly two approaches included:</p><ol type="1">
<li>Normal Distribution <br  />
 Data samples are presumably been generated by normal distribution, and therefore anomalous data points can be targeted by analysing the standard deviation. <br  />
</li>
<li>Fitting Ansatz <br  />
 Data samples are fitted by several ansatzs, and in accordance with the residual, anomalous data points can be selected.</li>
</ol>
<p>Regarding model selections, models are adopted dynamically by performing normal test and by computing the (Akaike/Bayesian) information criterion. By default, the algorithm will first try to fit in the data into normal distribution, if it passed <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.normaltest.html">normal test</a>. If this attempt suffers from the loss of convergence or it did not pass <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.normaltest.html">normal test</a> from begining, then the algorithm will pass data into the second methods and try to execute all the available fitting ansatzs simultaneously. The best fitting ansatz will be selected by information criterion, and finally the algorithm will pick up anomalous points in accordance with the residual. <a href="classanko_1_1anomaly__detector_1_1_anomaly_detector.html#a019359334795d2f05a730ab00085e5e9">click here to see all available methods.</a> <br  />
</p>
<p>Future development will also include methods that are based on deep learning techniques, such as isolation forest, support vector machine, etc.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Requirements</h1>
<ul>
<li>python &gt;= 3.6.0</li>
<li>numpy &gt;= 1.16.4</li>
<li>scipy &gt;= 1.2.1</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Installation</h1>
<div class="fragment"><div class="line">pip install anko</div>
</div><!-- fragment --><p> <a href="https://pypi.org/project/anko/">anko on PyPI</a></p>
<h1><a class="anchor" id="autotoc_md3"></a>
Documentation</h1>
<p><a href="https://tanlin2013.github.io/anko/html/index.html">anko documentation</a></p>
<h1><a class="anchor" id="autotoc_md4"></a>
Jupyter Notebook Tutorial (in dev)</h1>
<p><a href="https://mybinder.org/v2/gh/tanlin2013/anko/master?filepath=anko_tutorial.ipynb">Host on mybinder</a></p>
<h1><a class="anchor" id="autotoc_md5"></a>
Basic Usage</h1>
<ol type="1">
<li>Call AnomalyDetector <div class="fragment"><div class="line">from anko.anomaly_detector import AnomalyDetector  </div>
<div class="line">agent = AnomalyDetector(t, series)</div>
</div><!-- fragment --></li>
<li>Define policies and threshold values (optional) <div class="fragment"><div class="line">agent.thres_params[&quot;linregress_res&quot;] = 1.5  </div>
<div class="line">agent.apply_policies[&quot;z_normalization&quot;] = True  </div>
<div class="line">agent.apply_policies[&quot;info_criterion&quot;] = &#39;AIC&#39;</div>
</div><!-- fragment --> for the use of <a href="classanko_1_1anomaly__detector_1_1_anomaly_detector.html#af31bfbbef59010642ad8a33785504c59"><b>AnomalyDetector.thres_params</b></a> and <a href="classanko_1_1anomaly__detector_1_1_anomaly_detector.html#af58531e67a2d33977a1bdc142b3f0561"><b>AnomalyDetector.apply_policies</b></a>, please refer to the documentation.</li>
<li>Run check <div class="fragment"><div class="line">check_result = agent.check()</div>
</div><!-- fragment --></li>
</ol>
<p>The type of output <b>check_result</b> is <a href="classanko_1_1anomaly__detector_1_1_check_result.html"><b>CheckResult</b></a>, which is basically a dictionary. </p><blockquote class="doxtable">
<p>model: 'increase_step_func' <br  />
 popt: [220.3243250055105, 249.03846355234577, 74.00000107457113] <br  />
 perr: [0.4247789247961187, 0.7166253174634686, 0.0] <br  />
 anomalous_data: [(59, 209)] <br  />
 residual: [10.050378152592119] <br  />
 extra_info: ['Info: AnomalyDetector is using z normalization.', 'Info: There are more than 1 discontinuous points detected.'] <br  />
 </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md6"></a>
Run Test (in dev)</h1>
<div class="fragment"><div class="line">python -m unittest discover -s test -p &#39;*_test.py&#39;</div>
</div><!-- fragment --><p> or simply </p><div class="fragment"><div class="line">make test</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
